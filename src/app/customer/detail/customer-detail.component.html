<ng-container *ngIf="isLoading"><i class="pi pi-spinner pi-spin"></i> Loading</ng-container>
<ng-container *ngIf="!isLoading">
    <form>
        <div class="row">
            <div class="form-group col-4">
                <label>Họ và tên (*)</label>
                <input disabled pInputText type="text" name="inputName" [(ngModel)]="customer.name" class="form-control" id="inputName">
            </div>
            <div class="form-group col-4">
                <label>Ngày sinh</label>
                <div>
                    <p-calendar disabled dateFormat="dd/mm/yy" name="inputBirth" [(ngModel)]="customer.birth" [showIcon]="true" id="inputBirth"></p-calendar>
                </div>
            </div>
            <div class="form-group col-4">
                <label>Số điện thoại</label>
                <input pInputText disabled type="text" name="inputPhone" [(ngModel)]="customer.phone" class="form-control" id="inputPhone">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-3 col-form-label" for="inputDescription">Mô tả</label>
            <div class="col-sm-9">
                <input disabled pInputText type="text" name="inputDescription" [(ngModel)]="customer.description" class="form-control" id="inputDescription">
            </div>
        </div>
    </form>
    <p-tabView>
        <p-tabPanel header="Tư vấn">
            <p-scrollPanel [style]="{width: '100%', height: '400px'}">
                <div class="list-comments">
                    <div *ngFor="let note of customer.notes" class="comment">
                        <div><b>{{ note.createdBy }}</b> at {{ note.createdAt | date }}</div>
                        <span>{{ note.content }}</span>
                    </div>
                </div>
            </p-scrollPanel>
            <div class="comment-action mt-3">
                <input placeholder="your message" [disabled]="isPostingNote" style="flex: 1 1 auto;" name="inputNote" [(ngModel)]="newNote" type="text" pInputText>
                <button [disabled]="newNote.length === 0 || isPostingNote" (click)="createNewNoteForCustomer()" pButton type="button" label="Thêm"></button>
            </div>
        </p-tabPanel>
    </p-tabView>
</ng-container>